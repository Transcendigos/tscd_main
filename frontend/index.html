<!DOCTYPE html>
<html lang="en" class="dark">

  <head>
    <meta charset="UTF-8" />
    <title>ft_transcendence</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/style.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet">
    <style>
    body {
      background-color: #1b3f72;
      background-image:
        repeating-linear-gradient(0deg,
          rgba(0, 0, 0, 0.15),
          rgba(0, 0, 0, 0.15) 2px,
          transparent 2px,
          transparent 4px),
        linear-gradient(to bottom,
          #1e293b 0%,
          #1b3f72 50%,
          #1e293b 100%);
      font-family: 'Inter', sans-serif;
    }

    .opacity-0 {
      opacity: 0;
    }

    .opacity-100 {
      opacity: 1;
    }

    .scale-95 {
      transform: scale(0.95);
    }

    .scale-100 {
      transform: scale(1);
    }

    .invisible {
      visibility: hidden;
    }

    .visible {
      visibility: visible;
    }

    .pointer-events-none {
      pointer-events: none;
    }

    .pointer-events-auto {
      pointer-events: auto;
    }
  </style>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
  </head>

  <body
    class="text-[#4cb4e7] min-h-screen flex flex-col bg-[#1b3f72] justify-between">

    <header class="py-5 flex justify-center text-center">
      <div class="flex flex-col items-center ">
        <div class="h-0.5 bg-[#4cb4e7] w-[110%]"></div>
        <h1 class="text-5xl font-extrabold font-inter">
          TRANSCENDENCE
        </h1>
      </div>
    </header>

    <main class="flex-grow px-4
             fixed inset-0 flex justify-center items-center z-10" id="main"
      style="position: relative;">

      <!-- --------------MENU WINDOW-------------- -->

      <div id="dragWindow"
        class="border-2 border-[#4cb4e7] w-[400px] max-w-full text-[#4cb4e7] text-sm flex flex-col
               bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 350px; min-height: 350px;">

        <div id="dragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing">
          <div class="flex items-center space-x-1.5">
            <svg class="w-4 h-4" fill="none" stroke="#4cb4e7" stroke-width="1"
              viewBox="0 0 16 16"
              xmlns="http://www.w3.org/2000/svg">
              <rect x="1" y="1" width="14" height="14" rx="1" />
              <line x1="1" y1="5" x2="15" y2="5" />
            </svg>
            <span class="font-bold select-none">ft_pong</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeMenuBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div
          class="px-1.5 py-0.5 flex justify-between items-center border-b border-[#4cb4e7] text-[#4cb4e7] select-none">
          <!-- Left-aligned tabs -->
          <div class="flex items-center space-x-2">
            <span id="profileBtn"
              class="px-1.5 text-[#4cb4e7] opacity-50 cursor-not-allowed select-none">
              <u>P</u>rofile
            </span>
            <span id="signinTab"
              class="px-1.5 hover-important hover:underline cursor-default"><u>S</u>ign-in</span>
            <span id="signupTab"
              class="px-1.5 hover-important hover:underline cursor-default"><u>S</u>ign-up</span>
            <span id="settingTab"
              class="px-1.5 text-[#4cb4e7] opacity-50 cursor-not-allowed select-none">
              <u>S</u>etting
            </span>
          </div>
          <!-- Right-aligned logout tab -->
          <div>
            <span id="logoutTab"
              class="px-1.5 text-[#4cb4e7] opacity-50 cursor-not-allowed select-none">
              <u>L</u>ogout
            </span>
          </div>
        </div>

        <div class="flex-grow p-0.5 overflow-hidden">
          <div
            class="h-full text-[#4cb4e7] flex flex-col justify-center items-center">
            <button id="clickMeBtn"
              class="font-inter font-extrabold hover-important w-full py-6 pt-10 transition-all">
              PLAY PONG
            </button>
            <div class="h-[1px] bg-[#4cb4e7] origin-center w-1/3"></div>
            <button id="darkBtn"
              class="font-inter font-extrabold hover-important w-full py-6 transition-all">
              MULTIPLAYER
            </button>
            <div class="h-[1px] bg-[#4cb4e7] origin-center w-1/3"></div>
            <button id="tournamentBtn"
              class="font-Inter font-extrabold hover-important w-full py-6 pb-10 transition-all">
              TOURNAMENT
            </button>
          </div>
        </div>

        <div
          class="bg-slate-900/50 px-1.5 py-1 flex justify-between items-center border-t-2 border-[#4cb4e7] text-[#4cb4e7] select-none">
          <div>
            <button id="chatBtn"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">Chat</button>
            <button id="aiBtn"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">AI-bot</button>
            <button id="musicBtn"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">Music</button>
          </div>
          <div class="flex space-x-2 mr-2">
            <div id="infoTab"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">INFO</div>
            <div id="statsTab"
              class="border font-extrabold border-[#4cb4e7] px-2">STATS</div>
          </div>
        </div>

        <div id="menuResize"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize"></div>
      </div>

      <!-- --------------SIGN IN WINDOW-------------- -->

      <div id="signinWindow"
        class="border-2 bg-slate-900/60 border-[#4cb4e7] w-[400px] max-w-full text-[#4cb4e7] text-sm flex flex-col
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 drop-shadow-xl/30 backdrop-blur-xs
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 320px; min-height: 350px;">

        <div id="signinDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-sign-in text-[#4cb4e7]" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" width="16"
              height="16" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd"
                d="M12 20a7.966 7.966 0 0 1-5.002-1.756l.002.001v-.683c0-1.794 1.492-3.25 3.333-3.25h3.334c1.84 0 3.333 1.456 3.333 3.25v.683A7.966 7.966 0 0 1 12 20ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 5.5-4.44 9.963-9.932 10h-.138C6.438 21.962 2 17.5 2 12Zm10-5c-1.84 0-3.333 1.455-3.333 3.25S10.159 13.5 12 13.5c1.84 0 3.333-1.455 3.333-3.25S13.841 7 12 7Z"
                clip-rule="evenodd" />
            </svg>
            <span class="font-bold">Sign-in</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button id="closesigninBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
          </div>
        </div>
        <div id="signinStatus"
          class="transition-opacity duration-300 opacity-0 text-[#f8aab6] font-inter font-extrabold text-center text-base mt-3">
        </div>

        <form id="signinForm" class="p-4 flex flex-col space-y-5">
          <input type="email" name="email" placeholder="Email..." required
            class="bg-slate-900/50 border-2 border-[#4cb4e7] p-2" />
          <input type="password" name="password" placeholder="Password..."
            required
            class="bg-slate-900/50 border-2 border-[#4cb4e7] p-2" />
          <button type="submit"
            class="bg-[#4cb4e7] text-slate-900 font-bold pt-2 mt-5 py-2 hover:bg-[#8be076] hover:text-slate-900 transition-all">
            Sign In
          </button>
        </form>
        <div id="signinGOOGLE" class=" text-center">
          <p class="mb-3 font-bold">Or</p>
          <div id="google-signin-signin"
            class="flex justify-center hidden"></div>
        </div>
        <div id="signinResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize"></div>

        <div id="twofaFields"
          class="flex flex-col items-center justify-center space-y-3 mt-4 hidden text-center">
          <p class="text-sm font-semibold text-[#4cb4e7]">Two-Factor
            Authentication</p>
          <input type="text" id="codeInput" maxlength="6" inputmode="numeric"
            placeholder="Enter 6-digit TOTP code"
            class="w-60 p-2 text-center bg-slate-900 border border-[#4cb4e7] text-[#4cb4e7] placeholder-[#4cb4e7] focus:outline-none focus:ring-2 focus:ring-[#4cb4e7]" />
          <button id="submit2FA"
            class="bg-[#4cb4e7] text-slate-900 font-bold px-4 py-1 hover:bg-[#8be076] transition-all">
            Verify 2FA
          </button>
          <p id="twofaError" class="text-sm text-[#D4535B] font-semibold"></p>
        </div>

      </div>

      <!-- --------------SIGN UP WINDOW-------------- -->
      <div id="signupWindow"
        class="border-2 bg-slate-900/60 border-[#4cb4e7] w-[400px] max-w-full text-[#4cb4e7] text-sm flex flex-col
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 drop-shadow-xl/30 backdrop-blur-xs
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 320px; min-height: 390px;">

        <div id="signupDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-person-plus-fill text-[#4cb4e7]"
              aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16"
              height="16" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
              <path fill-rule="evenodd"
                d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" />
            </svg>
            <span class="font-bold">Sign-Up</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button id="closeSignupBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
          </div>
        </div>

        <div id="signupStatus"
          class="transition-opacity duration-300 opacity-0 text-[#f8aab6] font-inter font-extrabold text-center text-base mt-3">
        </div>

        <form id="signupForm" class="p-4 flex flex-col space-y-5">
          <input type="text" name="username" placeholder="Username..." required
            class="bg-slate-900 border-2 border-[#4cb4e7] p-2" />
          <input type="email" name="email" placeholder="Email..." required
            class="bg-slate-900 border-2 border-[#4cb4e7] p-2" />
          <input type="password" name="password" placeholder="Password..."
            required class="bg-slate-900 border-2 border-[#4cb4e7] p-2" />
          <button type="submit"
            class="bg-[#4cb4e7] text-slate-900 font-bold pt-2 mt-5 py-2 hover:bg-[#8be076] transition-all">
            Sign Up
          </button>
        </form>

        <div id="signupGOOGLE" class="text-center">
          <p class="mb-3 font-bold">Or</p>
          <div id="google-signin-signup" class="flex justify-center"></div>
        </div>

        <div id="signupResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize"></div>
      </div>

      <!-- --------------PROFILE WINDOW -------------- -->

      <div id="profileWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="profileDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-sign-in text-[#4cb4e7]" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" width="24"
              height="24" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd"
                d="M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4Zm10 5a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm-8-5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm1.942 4a3 3 0 0 0-2.847 2.051l-.044.133-.004.012c-.042.126-.055.167-.042.195.006.013.02.023.038.039.032.025.08.064.146.155A1 1 0 0 0 6 17h6a1 1 0 0 0 .811-.415.713.713 0 0 1 .146-.155c.019-.016.031-.026.038-.04.014-.027 0-.068-.042-.194l-.004-.012-.044-.133A3 3 0 0 0 10.059 14H7.942Z"
                clip-rule="evenodd" />
            </svg>
            <span class="font-bold">I SEE U</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeprofileBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <!-- <div class="flex-grow p-2 overflow-auto bg-slate-800/50">
          <video id="testWebcamVideo" autoplay playsinline muted
            style="width:100%; max-width:640px;"></video>
          <button id="startTestWebcamBtn">TEST</button>
          <p id="yourErrorMessageElementIdGoesHere" style="color:red;"></p>
        </div> -->

        <!-- Dynamic content will be injected into this area -->
        <div id="profileContentArea"
          class="flex items-center space-x-6 p-4 bg-slate-800/50 rounded-lg shadow-lg">
          <img
            id="profileImage"
            src="/favicon.jpg"
            loading="lazy"
            class="w-20 h-20 rounded-full object-cover border border-[#4cb4e7]"
            alt="User profile" />
          <div class="flex flex-col space-y-1">
            <p id="profileUsername"
              class="text-xl font-bold text-[#8be076]">Loading...</p>
            <p id="profileEmail" class="text-sm text-[#4cb4e7]">...</p>
          </div>
        </div>

        <div id="profileResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- --------------PONG WINDOW -------------- -->

      <div id="pongWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 805px; min-height: 600px; max-width: 805px; max-height: 800px;">
        <div id="pongDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
              viewBox="0 0 24 24" fill="none"
              stroke="#4cb4e7" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round">
              <path
                d="M12.718 20.713a7.64 7.64 0 0 1 -7.48 -12.755l.72 -.72a7.643 7.643 0 0 1 9.105 -1.283l2.387 -2.345a2.08 2.08 0 0 1 3.057 2.815l-.116 .126l-2.346 2.387a7.644 7.644 0 0 1 -1.052 8.864" />
              <path d="M14 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
              <path d="M9.3 5.3l9.4 9.4" />
            </svg>
            <span class="font-bold">PONG PONG PONG</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closepongBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div class="flex-grow bg-slate-800/50">
          <div id="gameContainer" class="flex flex-col items-center">
            <canvas id="pongCanvas" width="800" height="600"
              class="border border-white"></canvas>
          </div>
        </div>

        <div id="pongResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- SETTING WINDOW-->
      <div id="settingWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
                  bg-slate-900
                  absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
                  transition-all duration-300 ease-in-out
                  opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="settingDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <!-- Settings Gear Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" class="bi bi-gear"
              viewBox="0 0 16 16">
              <path
                d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0" />
              <path
                d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z" />
            </svg>
            <span class="font-bold">Setting</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closesettingBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>
        <div id="twofaSection" class="mt-4">
          <h2 class="text-sm font-semibold mb-1 px-1">Two-Factor
            Authentication</h2>

          <div class="pl-12">
            <label class="flex items-center space-x-2">
              <input type="checkbox" id="totp2faCheckbox"
                class="accent-[#4cb4e7]" />
              <span>Enable TOTP (Google Authenticator)</span>
            </label>
          </div>

          <div id="qrContainer"
            class="mt-3 hidden flex flex-col items-center text-center space-y-2">
            <p class="text-sm font-semibold text-[#4cb4e7]">Scan this QR code in
              your authenticator app:</p>
            <img id="qrCodeImage" src alt="QR Code"
              class="w-40 h-40 border border-[#4cb4e7] rounded-lg" />
            <input id="verifyTotpInput"
              class="w-48 p-2 bg-slate-800 border border-[#4cb4e7] text-[#4cb4e7] placeholder-[#4cb4e7] rounded focus:outline-none focus:ring-2 focus:ring-[#4cb4e7]"
              placeholder="Enter 6-digit code" />
            <button id="confirmTotpButton"
              class="bg-[#4cb4e7] text-black font-bold px-4 py-1 rounded hover:bg-[#f8aab6] transition-all">
              Confirm TOTP
            </button>
            <p id="totpStatus"
              class="text-sm mt-1 text-red-500 font-semibold"></p>

            <div id="settingResizeHandle"
              class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
            </div>
          </div>
        </div>
      </div>

      <!-- Logout WINDOW-->
      <div id="logoutWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="logoutDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-sign-in text-[#4cb4e7]" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" width="16"
              height="16" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round"
                stroke-linejoin="round" stroke-width="2"
                d="M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2" />
            </svg>
            <span class="font-bold">Logout</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closelogoutBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div
          class="flex-grow p-4 flex flex-col justify-center items-center text-center bg-slate-800/50 space-y-6">
          <p class="text-base font-semibold">
            You are already signed in as <strong id="logoutUsername"
              class="text-xl font-bold text-[#f8aab6]">...</strong>
          </p>
          <button id="logoutBtn"
            class="bg-[#D4535B] text-white text-base font-bold px-6 py-2 rounded-lg hover:bg-red-700 transition-all">
            Log Out
          </button>
        </div>

        <div id="logoutResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- -------------- CHAT WINDOW -------------- -->
      <div id="chatWindow"
        class="border-2 border-[#4cb4e7] w-[600px] text-[#4cb4e7] text-sm flex flex-col
               bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 350px; min-height: 400px; max-width: 700px; max-height: 90vh;">

        <div id="chatDragHandle"
          class=" bg-slate-900/60 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="w-4 h-4" fill="none" stroke="currentColor"
              stroke-width="1.5" viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-3.86 8.25-8.625 8.25S3.75 16.556 3.75 12 7.61 3.75 12.375 3.75s8.625 3.694 8.625 8.25z">
              </path>
            </svg>
            <span class="font-bold">Live Chat</span>
          </div>
          <button aria-label="Close" id="closeChatBtn"
            class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
            X
          </button>
        </div>

        <div class="flex flex-grow overflow-hidden">
          <div id="chatUserListPanel"
            class="w-1/3 border-r-2 border-[#4cb4e7] overflow-y-auto p-2">
            <h3
              class="text-xs font-bold mb-2 sticky top-0 py-1">Users</h3>
            <ul id="chatUserList" class="space-y-1">
            </ul>
          </div>

          <div class="w-2/3 flex flex-col">
            <div id="chatConversationHeader"
              class="p-2 border-b border-[#4cb4e7]/50 text-center">
              <span id="chatWithUser" class="font-semibold">General Chat (Coming
                Soon)</span> </div>
            <div id="chatMessagesArea"
              class="flex-grow p-2 overflow-y-auto space-y-2">
              <div class="text-center text-xs p-4">General chat
                is not yet implemented.</div>
            </div>
            <div class="p-2 border-t border-[#4cb4e7]"
              id="mainChatWindowInputArea" style="display: none;"> <div
                class="flex space-x-2">
                <input type="text" id="generalChatMessageInput"
                  placeholder="Type a message in General Chat..."
                  class="flex-grow p-1.5 bg-slate-700 border border-[#4cb4e7]/50 rounded text-xs focus:ring-1 focus:ring-[#f8aab6] focus:border-[#f8aab6] outline-none text-slate-50" />
                <button id="generalChatSendBtn"
                  class="px-3 py-1.5 bg-[#4cb4e7] text-slate-900 font-semibold rounded hover:bg-[#f8aab6] transition-colors text-xs">
                  Send
                </button>
              </div>
            </div>
          </div>
        </div>

        <div id="chatResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>
      <!-- INFO WINDOW -->
      <div id="infoWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="infoDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" class="bi bi-info-circle"
              viewBox="0 0 16 16">
              <path
                d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
              <path
                d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
            </svg>
            <span class="font-bold">Info</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeinfoBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <p class="text-sm font-semibold text-[#4cb4e7] py-2">What do you wish
          to
          explore</p>
        <div class="flex flex-col items-center justify-center space-y-4">
          <button id="openWeatherBtn"
            class="font-inter font-extrabold hover-important w-full py-6 pt-10 transition-all">
            Ecole 42 Paris Weather
          </button>
        </div>

        <div id="infoResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- STATS WINDOW -->
      <div id="statsWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="statsDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor"
              class="bi bi-clipboard-data" viewBox="0 0 16 16">
              <path
                d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z" />
              <path
                d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z" />
              <path
                d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z" />
            </svg>
            <span class="font-bold">My Dashboard</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closestatsBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div class="flex-grow p-2 overflow-auto bg-slate-800/50">
          <p>This is the content of statsWindow.</p>
          <p>Replace this with actual application content.</p>
          <input type="text" placeholder="Sample input..."
            class="mt-2 p-1 w-full bg-slate-700 border border-[#4cb4e7]/50 rounded" />
        </div>

        <div id="statsResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- WEATHER WINDOW -->

      <div id="weatherWindow"
        class="border-2 border-[#4cb4e7] w-[370] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 370px; min-height: 340px; max-width: 90vw; max-height: 80vh;">
        <div id="weatherDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" class="bi bi-cloud-sun"
              viewBox="0 0 16 16">
              <path
                d="M7 8a3.5 3.5 0 0 1 3.5 3.555.5.5 0 0 0 .624.492A1.503 1.503 0 0 1 13 13.5a1.5 1.5 0 0 1-1.5 1.5H3a2 2 0 1 1 .1-3.998.5.5 0 0 0 .51-.375A3.5 3.5 0 0 1 7 8m4.473 3a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5z" />
              <path
                d="M10.5 1.5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0zm3.743 1.964a.5.5 0 1 0-.707-.707l-.708.707a.5.5 0 0 0 .708.708zm-7.779-.707a.5.5 0 0 0-.707.707l.707.708a.5.5 0 1 0 .708-.708zm1.734 3.374a2 2 0 1 1 3.296 2.198q.3.423.516.898a3 3 0 1 0-4.84-3.225q.529.017 1.028.129m4.484 4.074c.6.215 1.125.59 1.522 1.072a.5.5 0 0 0 .039-.742l-.707-.707a.5.5 0 0 0-.854.377M14.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z" />
            </svg>
            <span class="font-bold">weatherWindow</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeweatherBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div id="weatherContent" class="text-left space-y-2 p-3">
          <h2 id="weatherCity"
            class="text-2xl font-bold tracking-wide text-left underline">Weather
            in ...</h2>
          <div
            class="flex flex-col justify-center items-left space-x-2 text-base font-semibold leading-tight mt-4">
            <div
              class="flex items-start space-x-3 text-base font-semibold leading-tight -mt-5">
              <!-- Weather Icon -->
              <img id="weatherIcon" src alt="icon" class="w-18 h-18">

              <!-- Temperature and Feels Like stacked vertically -->
              <div class="flex flex-col mt-3">
                <span id="weatherTemp" class="text-lg"></span>
                <p id="weatherFeels_Like" class="italic text-base">feels like:
                  ...</p>

              </div>
            </div>
          </div>

          <div class="flex space-x-4 text-xs mt-2">
            <p id="weatherAQI">Air Quality: ...</p>
            <p id="humidity">Humidity: ...</p>
            <p id="wind">Wind Speed: ...</p>
          </div>

          <div class="p-3 -mt-2">
            <h3 class="text-md font-bold mb-2 underline text-left">Current
              Week
              Forecast</h3>
            <div id="weatherForecast"
              class="grid grid-cols-5 gap-2 text-center"></div>
          </div>
        </div>

        <div id="weatherResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- AI Window -->
      <div id="aiWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="aiDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="w-5 h-5 align-middle"
              xmlns="http://www.w3.org/2000/svg"
              shape-rendering="geometricPrecision"
              text-rendering="geometricPrecision"
              image-rendering="optimizeQuality" fill-rule="evenodd"
              clip-rule="evenodd" viewBox="0 0 512 509.639"><path fill="#fff"
                d="M115.612 0h280.775C459.974 0 512 52.026 512 115.612v278.415c0 63.587-52.026 115.613-115.613 115.613H115.612C52.026 509.64 0 457.614 0 394.027V115.612C0 52.026 52.026 0 115.612 0z" /><path
                fill-rule="nonzero"
                d="M412.037 221.764a90.834 90.834 0 004.648-28.67 90.79 90.79 0 00-12.443-45.87c-16.37-28.496-46.738-46.089-79.605-46.089-6.466 0-12.943.683-19.264 2.04a90.765 90.765 0 00-67.881-30.515h-.576c-.059.002-.149.002-.216.002-39.807 0-75.108 25.686-87.346 63.554-25.626 5.239-47.748 21.31-60.682 44.03a91.873 91.873 0 00-12.407 46.077 91.833 91.833 0 0023.694 61.553 90.802 90.802 0 00-4.649 28.67 90.804 90.804 0 0012.442 45.87c16.369 28.504 46.74 46.087 79.61 46.087a91.81 91.81 0 0019.253-2.04 90.783 90.783 0 0067.887 30.516h.576l.234-.001c39.829 0 75.119-25.686 87.357-63.588 25.626-5.242 47.748-21.312 60.682-44.033a91.718 91.718 0 0012.383-46.035 91.83 91.83 0 00-23.693-61.553l-.004-.005zM275.102 413.161h-.094a68.146 68.146 0 01-43.611-15.8 56.936 56.936 0 002.155-1.221l72.54-41.901a11.799 11.799 0 005.962-10.251V241.651l30.661 17.704c.326.163.55.479.596.84v84.693c-.042 37.653-30.554 68.198-68.21 68.273h.001zm-146.689-62.649a68.128 68.128 0 01-9.152-34.085c0-3.904.341-7.817 1.005-11.663.539.323 1.48.897 2.155 1.285l72.54 41.901a11.832 11.832 0 0011.918-.002l88.563-51.137v35.408a1.1 1.1 0 01-.438.94l-73.33 42.339a68.43 68.43 0 01-34.11 9.12 68.359 68.359 0 01-59.15-34.11l-.001.004zm-19.083-158.36a68.044 68.044 0 0135.538-29.934c0 .625-.036 1.731-.036 2.5v83.801l-.001.07a11.79 11.79 0 005.954 10.242l88.564 51.13-30.661 17.704a1.096 1.096 0 01-1.034.093l-73.337-42.375a68.36 68.36 0 01-34.095-59.143 68.412 68.412 0 019.112-34.085l-.004-.003zm251.907 58.621l-88.563-51.137 30.661-17.697a1.097 1.097 0 011.034-.094l73.337 42.339c21.109 12.195 34.132 34.746 34.132 59.132 0 28.604-17.849 54.199-44.686 64.078v-86.308c.004-.032.004-.065.004-.096 0-4.219-2.261-8.119-5.919-10.217zm30.518-45.93c-.539-.331-1.48-.898-2.155-1.286l-72.54-41.901a11.842 11.842 0 00-5.958-1.611c-2.092 0-4.15.558-5.957 1.611l-88.564 51.137v-35.408l-.001-.061a1.1 1.1 0 01.44-.88l73.33-42.303a68.301 68.301 0 0134.108-9.129c37.704 0 68.281 30.577 68.281 68.281a68.69 68.69 0 01-.984 11.545v.005zm-191.843 63.109l-30.668-17.704a1.09 1.09 0 01-.596-.84v-84.692c.016-37.685 30.593-68.236 68.281-68.236a68.332 68.332 0 0143.689 15.804 63.09 63.09 0 00-2.155 1.222l-72.54 41.9a11.794 11.794 0 00-5.961 10.248v.068l-.05 102.23zm16.655-35.91l39.445-22.782 39.444 22.767v45.55l-39.444 22.767-39.445-22.767v-45.535z" />
            </svg>
            <span class="font-bold">AI Assistant</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg"><rect width="8"
                  height="2" /></svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5"
                  width="8" height="8" /></svg>
            </button>
            <button aria-label="Close" id="closeaiBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div
          class="flex-grow p-2 overflow-auto bg-slate-800/50 flex flex-col">
          <div id="chatMessages"
            class="flex-grow overflow-y-auto space-y-2 p-1"></div>
          <form id="chatForm" class="mt-2 flex space-x-2">
            <input
              type="text"
              id="chatInput"
              placeholder="Ask me anything..."
              class="flex-grow p-1 bg-slate-700 border border-[#4cb4e7]/50 rounded text-[#4cb4e7]"
              autocomplete="off" />
            <button
              type="submit"
              class="bg-[#4cb4e7] text-slate-900 font-bold px-3 rounded hover:bg-[#8be076]">
              Send
            </button>
          </form>
        </div>

        <div id="aiResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- Music window -->
      <div id="musicWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="musicDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="w-6 h-6 text-gray-800 dark:text-white"
              aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
              height="24" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd"
                d="M17.316 4.052a.99.99 0 0 0-.9.14c-.262.19-.416.495-.416.82v8.566a4.573 4.573 0 0 0-2-.464c-1.99 0-4 1.342-4 3.443 0 2.1 2.01 3.443 4 3.443 1.99 0 4-1.342 4-3.443V6.801c.538.5 1 1.219 1 2.262 0 .56.448 1.013 1 1.013s1-.453 1-1.013c0-1.905-.956-3.18-1.86-3.942a6.391 6.391 0 0 0-1.636-.998 4 4 0 0 0-.166-.063l-.013-.005-.005-.002h-.002l-.002-.001ZM4 5.012c-.552 0-1 .454-1 1.013 0 .56.448 1.013 1 1.013h9c.552 0 1-.453 1-1.013 0-.559-.448-1.012-1-1.012H4Zm0 4.051c-.552 0-1 .454-1 1.013 0 .56.448 1.013 1 1.013h9c.552 0 1-.454 1-1.013 0-.56-.448-1.013-1-1.013H4Zm0 4.05c-.552 0-1 .454-1 1.014 0 .559.448 1.012 1 1.012h4c.552 0 1-.453 1-1.012 0-.56-.448-1.013-1-1.013H4Z"
                clip-rule="evenodd" />
            </svg>
            <span class="font-bold">Spotify</span> </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg"><rect width="8"
                  height="2" /></svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5"
                  width="8" height="8" /></svg>
            </button>
            <button aria-label="Close" id="closemusicBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div class="flex-grow p-3 bg-slate-800/50">
          <iframe id="spotifyIframe"
            style="border-radius:12px" width="100%" height="80"
            frameBorder="0"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
            loading="lazy"
            src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M?utm_source=generator">
          </iframe>
        </div>
        <div class="mb-2">
          <input id="spotifySearchInput"
            type="text"
            placeholder="Search a mood or playlist... Press Enter to search"
            class="w-full p-1 rounded bg-slate-700 text-[#4cb4e7] border border-[#4cb4e7]/50" />
        </div>

        <div id="musicResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- --------------Pong Multiplayer Window -------------- -->

      <div id="multiplayerPongWindow"
        class="border-2 border-[#8be076] w-[805px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/70 backdrop-blur-sm 
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 805px; min-height: 600px; max-width: 805px; max-height: 800px;">

        <div id="multiplayerPongDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#8be076] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
              viewBox="0 0 24 24" fill="none" stroke="#8be076" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path
                d="M12.718 20.713a7.64 7.64 0 0 1 -7.48 -12.755l.72 -.72a7.643 7.643 0 0 1 9.105 -1.283l2.387 -2.345a2.08 2.08 0 0 1 3.057 2.815l-.116 .126l-2.346 2.387a7.644 7.644 0 0 1 -1.052 8.864" />
              <path d="M14 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
              <path d="M9.3 5.3l9.4 9.4" />
            </svg>
            <span class="font-bold">Multiplayer Pong</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#8be076] flex items-center justify-center opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#8be076"
                xmlns="http://www.w3.org/2000/svg"><rect width="8"
                  height="2" /></svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#8be076] flex items-center justify-center opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#8be076" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5"
                  width="8" height="8" /></svg>
            </button>
            <button aria-label="Close" id="closeMultiplayerPongBtn"
              class="w-5 h-5 border border-[#8be076] flex items-center justify-center font-bold hover:text-slate-900 hover:bg-[#f8aab6] transition-colors">
              X
            </button>
          </div>
        </div>

        <div class="flex-grow bg-slate-800/50 flex justify-center items-center">
          <canvas id="multiplayerPongCanvas" width="800" height="600"
            class="border border-white"></canvas>
        </div>

        <div id="multiplayerPongResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
      </div>

    <!-- --------------PUT NEW WINDOW BELOW -------------- -->

    </main>

    <footer class="flex items-center text-center justify-center py-auto mb-5">
      <div id="menuShortcut"
        class="flex flex-col items-center cursor-pointer text-center group p-2 rounded transition-colors duration-150">
        <svg class="w-11 h-11 text-[#4cb4e7] mb-1 group-hover:text-[#f8aab6]"
          fill="none" stroke="currentColor"
          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-width="1"
            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
          </path>
        </svg>
        <span
          class="text-xs text-[#4cb4e7] break-words group-hover:text-[#f8aab6]">
          menu.txt
        </span>
      </div>
    </footer>
    <script type="module" src="src/DesktopWindow.js"></script>
    <script type="module" src="src/main.js"></script>

  </body>

</html>

<!-- ------------------------WINDOW TEMPLATE------------------------ -->

<!-- 

<div id="PREFIXWindow"
  class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
  style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
  <div id="PREFIXDragHandle"
    class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
    <div class="flex items-center space-x-1.5">
      <svg class="w-4 h-4" fill="none" stroke="currentColor"
        stroke-width="1.5" viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M9.75 3.104v5.621a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25V3.104M15.75 3.104v5.621a2.25 2.25 0 002.25 2.25h2.25a2.25 2.25 0 002.25-2.25V3.104m-6.75 4.516l-4.5-3.243m0 10.362l4.5-3.243m6.75 3.243l4.5-3.243m-12-3.874l4.5 3.243m2.25-3.243l4.5 3.243M3 10.875l4.5 3.243M3 10.875V7.522m18 3.353V7.522m-9 6.59V3.27m0 17.46V15.3"></path>
      </svg>
      <span class="font-bold">Window Title</span> </div>
    <div class="flex items-center space-x-1">
      <button aria-label="Minimize" disabled
        class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
        <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
          xmlns="http://www.w3.org/2000/svg"><rect width="8"
            height="2" /></svg>
      </button>
      <button aria-label="Maximize" disabled
        class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
        <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
          stroke="#4cb4e7" stroke-width="1"
          xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5"
            width="8" height="8" /></svg>
      </button>
      <button aria-label="Close" id="closePREFIXBtn"
        class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
        X
      </button>
    </div>
  </div>

  <div class="flex-grow p-2 overflow-auto bg-slate-800/50">
    <p>This is the content of PREFIXWindow.</p>
    <p>Replace this with actual application content.</p>
    <input type="text" placeholder="Sample input..."
      class="mt-2 p-1 w-full bg-slate-700 border border-[#4cb4e7]/50 rounded" />
  </div>

  <div id="PREFIXResizeHandle"
    class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
  </div>
</div>

-->