<!DOCTYPE html>
<html lang="en" class="dark">

  <head>
    <meta charset="UTF-8" />
    <title>ft_transcendence</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/style.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet">
    <style>
    body {
      background-color: #1b3f72;
      background-image:
        repeating-linear-gradient(0deg,
          rgba(0, 0, 0, 0.15),
          rgba(0, 0, 0, 0.15) 2px,
          transparent 2px,
          transparent 4px),
        linear-gradient(to bottom,
          #1e293b 0%,
          #1b3f72 50%,
          #1e293b 100%);
      font-family: 'Inter', sans-serif;
    }

    .opacity-0 {
      opacity: 0;
    }

    .opacity-100 {
      opacity: 1;
    }

    .scale-95 {
      transform: scale(0.95);
    }

    .scale-100 {
      transform: scale(1);
    }

    .invisible {
      visibility: hidden;
    }

    .visible {
      visibility: visible;
    }

    .pointer-events-none {
      pointer-events: none;
    }

    .pointer-events-auto {
      pointer-events: auto;
    }
  </style>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body
    class="text-[#4cb4e7] min-h-screen flex flex-col bg-[#1b3f72] justify-between" id="body">

    <header class="py-5 flex justify-center text-center">
      <div class="flex flex-col items-center ">
        <div class="h-0.5 bg-[#4cb4e7] w-[110%]"></div>
        <h1 class="text-5xl font-extrabold font-inter">
          TRANSCENDENCE
        </h1>
      </div>
    </header>

    <main class="flex-grow px-4
             fixed inset-0 flex justify-center items-center z-10" id="main"
      style="position: relative;">
    
      <!-- --------------MENU WINDOW-------------- -->

      <div id="dragWindow"
        class="border-2 border-[#4cb4e7] w-[400px] max-w-full text-[#4cb4e7] text-sm flex flex-col
               bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 350px; min-height: 350px;">

        <div id="dragHandle"
          class="scanline-texture bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing">
          <div class="flex items-center space-x-1.5">
            <svg class="w-4 h-4" fill="none" stroke="#4cb4e7" stroke-width="1"
              viewBox="0 0 16 16"
              xmlns="http://www.w3.org/2000/svg">
              <rect x="1" y="1" width="14" height="14" rx="1" />
              <line x1="1" y1="5" x2="15" y2="5" />
            </svg>
            <span class="font-bold select-none">ft_pong</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeMenuBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div
          class="px-1.5 py-0.5 flex justify-between items-center border-b border-[#4cb4e7] text-[#4cb4e7] select-none">
          <!-- Left-aligned tabs -->
          <div class="flex items-center space-x-2">
            <span id="profileBtn"
              class="px-1.5 text-[#4cb4e7] opacity-50 cursor-not-allowed select-none">
              <u>P</u>rofile
            </span>
            <span id="signinTab"
              class="px-1.5 hover-important hover:underline cursor-default"><u>S</u>ign-in</span>
            <span id="signupTab"
              class="px-1.5 hover-important hover:underline cursor-default"><u>S</u>ign-up</span>
            <span id="settingTab"
              class="px-1.5 text-[#4cb4e7] opacity-50 cursor-not-allowed select-none">
              <u>S</u>ettings
            </span>
          </div>
          <!-- Right-aligned logout tab -->
          <div>
            <span id="logoutTab"
              class="px-1.5 text-[#4cb4e7] opacity-50 cursor-not-allowed select-none">
              <u>L</u>ogout
            </span>
          </div>
        </div>


<div class="flex-grow p-4 flex flex-col justify-center items-center space-y-4">

    <button id="clickMeBtn" class="main-menu-hero-button group">
        <div class="flicker-text-container flex flex-col items-center">
            <span class="text-4xl font-black tracking-widest">PONG</span>
            <span class="text-xs opacity-70 font-bold">ADVENTURE MODE</span>
        </div>
    </button>

    <div class="w-full grid grid-cols-2 gap-4">
        <button id="darkBtn" class="main-menu-secondary-button group">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            <span>MULTIPLAYER</span>
        </button>

        <button id="tournamentBtn" class="main-menu-secondary-button group">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z" />
            </svg>
            <span>TOURNAMENT</span>
        </button>
    </div>

</div>

        <div
          class="bg-slate-900/50 px-1.5 py-1 flex justify-between items-center border-t-2 border-[#4cb4e7] text-[#4cb4e7] select-none">
          <div>
            <button id="chatBtn"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">Chat</button>
            <button id="aiBtn"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">AI-bot</button>
            <button id="musicBtn"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">Music</button>
          </div>
          <div class="flex space-x-2 mr-2">
            <div id="infoTab"
              class="border font-extrabold hover-important border-[#4cb4e7] px-2">Info</div>
            <div id="statsTab"
              class="border font-extrabold border-[#4cb4e7] px-2">Stats</div>
          </div>
          
        </div>

        <div id="menuResize"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize"></div>
      </div>

      <!-- --------------SIGN IN WINDOW-------------- -->

      <div id="signinWindow"
        class="border-2 bg-slate-900/60 border-[#4cb4e7] w-[400px] max-w-full text-[#4cb4e7] text-sm flex flex-col
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 drop-shadow-xl/30 backdrop-blur-xs
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 320px; min-height: 350px;">

        <div id="signinDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-sign-in text-[#4cb4e7]" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" width="16"
              height="16" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd"
                d="M12 20a7.966 7.966 0 0 1-5.002-1.756l.002.001v-.683c0-1.794 1.492-3.25 3.333-3.25h3.334c1.84 0 3.333 1.456 3.333 3.25v.683A7.966 7.966 0 0 1 12 20ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 5.5-4.44 9.963-9.932 10h-.138C6.438 21.962 2 17.5 2 12Zm10-5c-1.84 0-3.333 1.455-3.333 3.25S10.159 13.5 12 13.5c1.84 0 3.333-1.455 3.333-3.25S13.841 7 12 7Z"
                clip-rule="evenodd" />
            </svg>
            <span class="font-bold">Sign-in</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button id="closesigninBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
          </div>
        </div>
        <div id="signinStatus"
          class="transition-opacity duration-300 opacity-0 text-[#f8aab6] font-inter font-extrabold text-center text-base mt-3">
        </div>

        <form id="signinForm" class="p-4 flex flex-col space-y-5">
          <input type="email" name="email" placeholder="Email..." required
            class="bg-slate-900/50 border-2 border-[#4cb4e7] p-2" />
          <input type="password" name="password" placeholder="Password..."
            required
            class="bg-slate-900/50 border-2 border-[#4cb4e7] p-2" />
          <button type="submit"
            class="bg-[#4cb4e7] text-slate-900 font-bold pt-2 mt-5 py-2 hover:bg-[#8be076] hover:text-slate-900 transition-all">
            Sign In
          </button>
        </form>
        <div id="signinGOOGLE" class=" text-center">
          <p class="mb-3 font-bold">Or</p>
          <div id="google-signin-signin"
            class="flex justify-center hidden"></div>
        </div>
        <div id="signinResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize"></div>

        <div id="twofaFields"
          class="flex flex-col items-center justify-center space-y-3 mt-4 hidden text-center">
          <p class="text-sm font-semibold text-[#4cb4e7]">Two-Factor
            Authentication</p>
          <input type="text" id="codeInput" maxlength="6" inputmode="numeric"
            placeholder="Enter 6-digit TOTP code"
            class="w-60 p-2 text-center bg-slate-900 border border-[#4cb4e7] text-[#4cb4e7] placeholder-[#4cb4e7] focus:outline-none focus:ring-2 focus:ring-[#4cb4e7]" />
          <button id="submit2FA"
            class="bg-[#4cb4e7] text-slate-900 font-bold px-4 py-1 hover:bg-[#8be076] transition-all">
            Verify 2FA
          </button>
          <p id="twofaError" class="text-sm text-[#D4535B] font-semibold"></p>
        </div>

      </div>

      <!-- --------------SIGN UP WINDOW-------------- -->
      <div id="signupWindow"
        class="border-2 bg-slate-900/60 border-[#4cb4e7] w-[400px] max-w-full text-[#4cb4e7] text-sm flex flex-col
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 drop-shadow-xl/30 backdrop-blur-xs
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 320px; min-height: 390px;">

        <div id="signupDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-person-plus-fill text-[#4cb4e7]"
              aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
              width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
              <path fill-rule="evenodd"
                d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" />
            </svg>
            <span class="font-bold">Sign-Up</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button id="closeSignupBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
          </div>
        </div>

        <div id="signupStatus"
          class="transition-opacity duration-300 opacity-0 text-[#f8aab6] font-inter font-extrabold text-center text-base mt-3">
        </div>

        <form id="signupForm" class="p-4 flex flex-col space-y-5">
          <input type="text" name="username" placeholder="Username..." required
            class="bg-slate-900 border-2 border-[#4cb4e7] p-2" />
          <input type="email" name="email" placeholder="Email..." required
            class="bg-slate-900 border-2 border-[#4cb4e7] p-2" />
          <input type="password" name="password" placeholder="Password..."
            required
            class="bg-slate-900 border-2 border-[#4cb4e7] p-2" />
          <button type="submit"
            class="bg-[#4cb4e7] text-slate-900 font-bold pt-2 mt-5 py-2 hover:bg-[#8be076] transition-all">
            Sign Up
          </button>
        </form>

        <div id="signupGOOGLE" class="text-center">
          <p class="mb-3 font-bold">Or</p>
          <div id="google-signin-signup" class="flex justify-center"></div>
        </div>

        <div id="signupResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize"></div>
      </div>

      <!-- --------------PROFILE WINDOW -------------- -->

<div id="profileWindow"
    class="border-2 border-[#4cb4e7] w-auto text-[#4cb4e7] text-sm flex flex-col
        bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-sm
        absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
        transition-all duration-300 ease-in-out
        opacity-0 scale-95 invisible pointer-events-none"
    style="min-width: 550px; max-width: 600px; min-height: 450px;">

    <div id="profileDragHandle"
        class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
        <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-bounding-box" viewBox="0 0 16 16">
                <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5M.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5" />
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
            </svg>
            <span class="font-bold">Player Dashboard</span>
        </div>
        <div class="flex items-center space-x-1">
            <button aria-label="Close" id="closeprofileBtn" class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
        </div>
    </div>

    <div id="profileContentArea" class="flex-grow flex flex-col p-3 space-y-3 overflow-y-auto">
        
        <div class="flex items-center space-x-4 p-3 bg-slate-800/30 border border-slate-700/50">
            <img id="profileImage" src="/favicon.jpg" class="w-24 h-24 object-cover border-2 border-slate-600" alt="User profile" />
            <div class="flex-grow">
                <h2 id="profileUsername" class="text-2xl font-bold text-white">Loading...</h2>
                <p id="profileEmail" class="text-xs opacity-70">...</p>
                <div class="flex space-x-4 mt-2 text-center">
                    <div>
                        <p class="text-xl font-bold text-green-400" id="profileWins">0</p>
                        <p class="text-xs opacity-70">Wins</p>
                    </div>
                    <div>
                        <p class="text-xl font-bold text-red-400" id="profileLosses">0</p>
                        <p class="text-xs opacity-70">Losses</p>
                    </div>
                    <div>
                        <p class="text-xl font-bold" id="profileWinRatio">0.00</p>
                        <p class="text-xs opacity-70">W/L Ratio</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex-grow flex gap-3">
            <div class="w-1/3 setting-container">
                <h3 class="setting-header">Friends</h3>
                <ul id="profileFriendsList" class="p-2 space-y-2">
                    <li class="opacity-50 text-xs">Loading friends...</li>
                </ul>
            </div>

            <div class="w-2/3 setting-container">
                <h3 class="setting-header">Match History</h3>
                <div class="overflow-y-auto p-1" style="max-height: 200px;">
                    <table class="w-full text-left text-xs">
                        <thead class="sticky top-0 bg-slate-800/80">
                            <tr>
                                <th class="p-2">Opponent</th>
                                <th class="p-2">Score</th>
                                <th class="p-2">Result</th>
                                <th class="p-2">Date</th>
                            </tr>
                        </thead>
                        <tbody id="profileMatchHistory">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="profileResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
</div>

      <!-- --------------PONG WINDOW -------------- -->

      <div id="pongWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 1375px; min-height: 769px;">
        <div id="pongDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
              viewBox="0 0 24 24" fill="none"
              stroke="#4cb4e7" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round">
              <path
                d="M12.718 20.713a7.64 7.64 0 0 1 -7.48 -12.755l.72 -.72a7.643 7.643 0 0 1 9.105 -1.283l2.387 -2.345a2.08 2.08 0 0 1 3.057 2.815l-.116 .126l-2.346 2.387a7.644 7.644 0 0 1 -1.052 8.864" />
              <path d="M14 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
              <path d="M9.3 5.3l9.4 9.4" />
            </svg>
            <span class="font-bold">PONG PONG PONG</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closepongBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div class="flex-grow bg-slate-800/50">
          <div id="gameContainer" class="flex flex-col items-center">
            <canvas id="pongCanvas" width="1366" height="768"
              class="border border-white"></canvas>
          </div>
        </div>

        <div id="pongResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- SETTING WINDOW -->
<div id="settingWindow"
    class="border-2 border-[#4cb4e7] w-auto text-[#4cb4e7] text-sm flex flex-col
        bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-sm
        absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
        transition-all duration-300 ease-in-out
        opacity-0 scale-95 invisible pointer-events-none"
    style="min-width: 450px; min-height: 540px;">

    <div id="settingDragHandle"
        class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
        <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
                <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0" />
                <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l-.319-.094c1.79-.527-1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52z" />
            </svg>
            <span class="font-bold">System Control Panel</span>
        </div>
        <div class="flex items-center space-x-1">
            <button aria-label="Close" id="closesettingBtn" class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
        </div>
    </div>

    <div class="flex-grow p-3 space-y-3 overflow-y-auto">
        <div class="setting-container">
            <div id="profileSection" class="p-0 m-0 space-y-0">
              <h2 class="setting-header">Profile Settings</h2>
              <div class="p-3 space-y-4">
                  <div class="pl-4">
                    <div class="flex justify-between items-center">
                      <span><strong>Username:</strong> <span id="currentUsername">loading...</span></span>
                      <button id="changeUsernameBtn" class="text-[#8be076] hover:underline text-xs">Change</button>
                    </div>
                    <div id="usernameForm" class="mt-2 space-y-2 hidden">
                      <input id="newUsername" type="text" placeholder="New username" class="w-full p-2 bg-slate-800 border border-[#4cb4e7]  text-[#4cb4e7]">
                      <button id="saveUsernameBtn" class="bg-[#4cb4e7] text-black font-bold py-1 px-4  hover:bg-[#8be076] transition-all">Save</button>
                      <span id="UsernameUpdateStatus"></span>
                    </div>
                  </div>
                  <div class="pl-4">
                    <div id="emailsetting" class="flex justify-between items-center">
                      <span><strong>Email:</strong> <span id="currentEmail">loading...</span></span>
                      <button id="changeEmailBtn" class="text-[#8be076] hover:underline text-xs">Change</button>
                    </div>
                    <div id="emailForm" class="mt-2 space-y-2 hidden">
                        <input id="newEmail" type="email" placeholder="New email" required class="w-full p-2 bg-slate-800 border border-[#4cb4e7]  text-[#4cb4e7]">
                        <button id="saveEmailBtn" class="bg-[#4cb4e7] text-black font-bold py-1 px-4  hover:bg-[#8be076] transition-all">Save</button>
                        <span id="emailUpdateStatus"></span>
                    </div>
                  </div>
                  <div class="pl-4">
                     <div id="passwordsetting" class="flex justify-between items-center">
                        <span><strong>Password:</strong> ***************</span>
                        <button id="changePasswordBtn" class="text-[#8be076] hover:underline text-xs">Change</button>
                    </div>
                    <div id="passwordForm" class="mt-2 space-y-2 hidden">
                        <input id="newPassword" type="password" placeholder="New password" class="w-full p-2 bg-slate-800 border border-[#4cb4e7]  text-[#4cb4e7]">
                        <button id="savePasswordBtn" class="bg-[#4cb4e7] text-black font-bold py-1 px-4  hover:bg-[#8be076] transition-all">Save</button>
                        <span id="passwordUpdateStatus"></span>
                    </div>
                  </div>
                  <div class="pl-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <span class="whitespace-nowrap"><strong>Picture:</strong></span>
                            <img id="profileImageSetting" src="/favicon.jpg" class="w-16 h-16  rounded-full object-cover border border-[#4cb4e7]" alt="User profile" />
                        </div>
                        <div class="flex flex-col space-y-1 hidden" id="pictureForm">
                            <input type="file" id="profilePicInput" accept="image/*" class="w-48 p-1 bg-slate-800 border border-[#4cb4e7] text-[#4cb4e7]  text-xs" />
                            <button id="uploadPicBtn" class="w-fit px-2 py-1 bg-[#4cb4e7] text-black text-xs  hover:bg-[#8be076]">Upload</button>
                            <span id="pictureUpdateStatus"></span>
                        </div>
                        <button id="changePictureBtn" class="text-[#8be076] hover:underline text-xs">Change</button>
                    </div>
                  </div>
              </div>
            </div>
        </div>

        <div class="setting-container">
            <div id="twofaSection" class="p-0 m-0 space-y-0">
                 <h2 class="setting-header">Security</h2>
                 <div class="p-3 space-y-2">
                    <div class="pl-4" id="totp2faoption">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="totp2faCheckbox" class="accent-[#4cb4e7]" />
                            <span>Enable TOTP (Google Authenticator) </span>
                        </label>
                    </div>
                    <div id="qrContainer" class="mt-3 hidden flex flex-col items-center text-center space-y-2">
                        <p class="text-sm font-semibold text-[#4cb4e7]">Scan this QR code in your authenticator app:</p>
                        <img id="qrCodeImage" alt="QR Code" class="w-40 h-40 border border-[#4cb4e7]" />
                        <input id="verifyTotpInput" class="w-48 p-2 bg-slate-800 border border-[#4cb4e7] text-[#4cb4e7] placeholder-[#4cb4e7]  focus:outline-none focus:ring-2 focus:ring-[#4cb4e7]" placeholder="Enter 6-digit code" />
                        <button id="confirmTotpButton" class="bg-[#4cb4e7] text-black font-bold px-4 py-1  hover:bg-[#f8aab6] transition-all">Confirm TOTP</button>
                        <p id="totpStatus" class="text-sm mt-1 text-red-500 font-semibold"></p>
                    </div>
                 </div>
            </div>
        </div>

        <div class="setting-container border-red-500/50">
            <h2 class="setting-header !border-red-500/50 text-red-500/90">Danger Zone</h2>
             <div class="p-3">
                <div class="pl-4 pr-4 pt-2">
                    <button id="deleteAccount" class="w-full border border-[#D4535B] hover:scale-105 text-white font-bold py-2 hover:bg-[#D4535B] transition-all">Delete My Account</button>
                    <span id="deleteUpdateStatus"></span>
                </div>
            </div>
        </div>
    </div>

    <div id="settingResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
</div>

      <!-- Logout WINDOW-->
      <div id="logoutWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="logoutDragHandle"
          class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="bi bi-sign-in text-[#4cb4e7]" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" width="16"
              height="16" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round"
                stroke-linejoin="round" stroke-width="2"
                d="M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2" />
            </svg>
            <span class="font-bold">Logout</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closelogoutBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div
          class="flex-grow p-4 flex flex-col justify-center items-center text-center bg-slate-800/50 space-y-6">
          <p class="text-base font-semibold">
            You are already signed in as <strong id="logoutUsername"
              class="text-xl font-bold text-[#f8aab6]">...</strong>
          </p>
          <button id="logoutBtn"
            class="bg-[#D4535B] text-white text-base font-bold px-6 py-2 rounded-lg hover:bg-red-700 transition-all">
            Log Out
          </button>
        </div>

        <div id="logoutResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- -------------- CHAT WINDOW -------------- -->
      <div id="chatWindow"
        class="border-2 border-[#4cb4e7] w-[600px] text-[#4cb4e7] text-sm flex flex-col
               bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
               absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
               transition-all duration-300 ease-in-out
               opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 350px; min-height: 400px; max-width: 700px; max-height: 90vh;">

        <div id="chatDragHandle"
          class=" bg-slate-900/60 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg class="w-4 h-4" fill="none" stroke="currentColor"
              stroke-width="1.5" viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-3.86 8.25-8.625 8.25S3.75 16.556 3.75 12 7.61 3.75 12.375 3.75s8.625 3.694 8.625 8.25z">
              </path>
            </svg>
            <span class="font-bold">Live Chat</span>
          </div>
          <button aria-label="Close" id="closeChatBtn"
            class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
            X
          </button>
        </div>

        <div class="flex flex-grow overflow-hidden">
          <div id="chatUserListPanel"
            class="w-1/3 border-r-2 border-[#4cb4e7] overflow-y-auto p-2">
            <h3 class="text-xs font-bold mb-2 sticky top-0 py-1">Users</h3>
            <ul id="chatUserList" class="space-y-1">
            </ul>
          </div>

          <div class="w-2/3 flex flex-col">
            <div id="chatConversationHeader"
              class="p-2 border-b border-[#4cb4e7]/50 text-center">
              <span id="chatWithUser" class="font-semibold">General Chat</span>
            </div>
            <div id="chatMessagesArea"
              class="flex-grow p-2 overflow-y-auto space-y-2">
            </div>
            <div class="p-2 border-t border-[#4cb4e7]"
              id="mainChatWindowInputArea">
              <div class="flex space-x-2">
                <input type="text" id="generalChatMessageInput"
                  placeholder="Type a message in General Chat..."
                  class="flex-grow p-1.5 bg-slate-700/ drop-shadow-xl/30 backdrop-blur-xs border border-[#4cb4e7]/50 text-[#4cb4e7] text-xs focus:ring-1 focus:ring-[#4cb4e7] focus:border-[#4cb4e7] outline-none" />
                <button id="generalChatSendBtn"
                  class=" send-button px-3 py-1.5 transition-colors text-xs">
                  SEND
                </button>
              </div>
            </div>
          </div>
        </div>

        <div id="chatResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>

      <!-- INFO WINDOW -->
            <div id="infoWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 400px; min-height: 350px; max-width: 90vw; max-height: 80vh;">
        
        <div id="infoDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" class="bi bi-info-circle"
              viewBox="0 0 16 16">
              <path
                d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
              <path
                d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
            </svg>
            <span class="font-bold">Info</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeinfoBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>
        
        <div class="flex-grow p-4 grid grid-cols-2 grid-rows-2 gap-3 bg-slate-900/60 border border-slate-700/50 drop-shadow-xl/30 backdrop-blur-xs">

          <button id="openWeatherBtn" class="info-grid-button group">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-2 transition-transform duration-300 group-hover:scale-110 " fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
            </svg>
            <span class="font-bold">Weather</span>
            <span class="text-xs opacity-70">42 Paris Status</span>
          </button>

          <button id="openGrafanaBtn" class="info-grid-button group">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-2 transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
              </svg>
            <span class="font-bold">System</span>
            <span class="text-xs opacity-70">Monitoring Dashboard</span>
          </button>

          <button id="openCommandBtn" class="info-grid-button group">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-2 transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <span class="font-bold">AI Commands</span>
            <span class="text-xs opacity-70">See command list</span>
          </button>

          <button id="openAboutBtn" class="info-grid-button group">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-2 transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            <span class="font-bold">About</span>
            <span class="text-xs opacity-70">Project Information</span>
          </button>

        </div>

        <div id="infoResizeHandle"
          class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
        </div>
      </div>


      <!-- STATS WINDOW -->
      <div id="statsWindow"
          class="border-2 border-[#4cb4e7] w-[600px] text-[#4cb4e7] text-sm flex flex-col bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ease-in-out opacity-0 scale-95 invisible pointer-events-none"
          style="min-width: 550px; min-height: 500px; max-width: 90vw; max-height: 80vh;">
          <div id="statsDragHandle"
              class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
              <div class="flex items-center space-x-1.5">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-data" viewBox="0 0 16 16">
                      <path d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z" />
                      <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z" />
                      <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z" />
                  </svg>
                  <span id="dashboard-username" class="font-bold">My Dashboard</span>
              </div>
              <button aria-label="Close" id="closestatsBtn" class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
          </div>
        
          <div class="flex-grow p-4 overflow-auto bg-slate-800/50 space-y-4">
              <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                  <div class="bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-xs p-3 border border-slate-700"><p class="text-xs text-slate-400">WINS</p><p id="stats-wins" class="text-2xl font-bold text-green-400">0</p></div>
                  <div class="bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-xs p-3 border border-slate-700"><p class="text-xs text-slate-400">LOSSES</p><p id="stats-losses" class="text-2xl font-bold text-red-400">0</p></div>
                  <div class="bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-xs p-3 border border-slate-700"><p class="text-xs text-slate-400">W/L RATIO</p><p id="stats-winRatio" class="text-2xl font-bold">0.0</p></div>
                  <div class="bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-xs p-3 border border-slate-700"><p class="text-xs text-slate-400">TOURNAMENTS WON</p><p id="stats-tournamentsWon" class="text-2xl font-bold text-yellow-400">0</p></div>
              </div>

              <div class="bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-xs p-4 border border-slate-700">
                  <h3 class="font-bold text-white mb-2">Win / Loss Breakdown</h3>
                  <div class="h-48 flex justify-center items-center">
                      <canvas id="winLossChart"></canvas>
                  </div>
              </div>
            
              <div class="bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-xs p-4 border border-slate-700">
                  <h3 class="font-bold text-white mb-2">Recent Match History</h3>
                  <div class="overflow-y-auto max-h-64">
                      <table class="w-full text-left text-xs">
                          <thead class="sticky top-0 bg-slate-800/80 drop-shadow-xl/30 backdrop-blur-xs">
                              <tr>
                                  <th class="p-2">MODE</th>
                                  <th class="p-2">OPPONENT</th>
                                  <th class="p-2">SCORE</th>
                                  <th class="p-2">RESULT</th>
                              </tr>
                          </thead>
                          <tbody id="matchHistoryBody">
                              </tbody>
                      </table>
                  </div>
              </div>
          </div>
          <div id="statsResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
      </div>


      <!-- WEATHER WINDOW -->

<div id="weatherWindow"
    class="border-2 border-[#4cb4e7] w-auto text-[#4cb4e7] text-sm flex flex-col
        bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
        absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
        transition-all duration-300 ease-in-out
        opacity-0 scale-95 invisible pointer-events-none"
    style="min-width: 370px; min-height: 360px; max-width: 90vw; max-height: 80vh;">

    <div id="weatherDragHandle"
        class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
        <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-sun" viewBox="0 0 16 16">
                <path d="M7 8a3.5 3.5 0 0 1 3.5 3.555.5.5 0 0 0 .624.492A1.503 1.503 0 0 1 13 13.5a1.5 1.5 0 0 1-1.5 1.5H3a2 2 0 1 1 .1-3.998.5.5 0 0 0 .51-.375A3.5 3.5 0 0 1 7 8m4.473 3a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5z"/>
                <path d="M10.5 1.5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0zm3.743 1.964a.5.5 0 1 0-.707-.707l-.708.707a.5.5 0 0 0 .708.708zm-7.779-.707a.5.5 0 0 0-.707.707l.707.708a.5.5 0 1 0 .708-.708zm1.734 3.374a2 2 0 1 1 3.296 2.198q.3.423.516.898a3 3 0 1 0-4.84-3.225q.529.017 1.028.129m4.484 4.074c.6.215 1.125.59 1.522 1.072a.5.5 0 0 0 .039-.742l-.707-.707a.5.5 0 0 0-.854.377M14.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
            </svg>
            <span class="font-bold">Weather Terminal</span>
        </div>
        <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center opacity-50 cursor-not-allowed"><svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="2" /></svg></button>
            <button aria-label="Maximize" disabled class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center opacity-50 cursor-not-allowed"><svg width="9" height="9" viewBox="0 0 9 9" fill="none" stroke="#4cb4e7" stroke-width="1" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="8" height="8" /></svg></button>
            <button aria-label="Close" id="closeweatherBtn" class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
        </div>
    </div>

    <div id="weatherContent" class="flex-grow flex flex-col p-3 space-y-2 ">
    
        <div class="text-center p-2 bg-slate-800/30 border border-seLightBlue/50 drop-shadow-xl/30 backdrop-blur-xs">
            <h2 id="weatherCity" class="text-lg font-bold tracking-wide">Paris, FR</h2>
            <div class="flex items-center justify-center gap-4 py-1">
                <img id="weatherIcon" src="" alt="Weather Icon" class="w-16 h-16">
                <div class="text-left">
                    <span id="weatherTemp" class="text-4xl font-light">--°C</span>
                    <p id="weatherDescription" class="text-sm -mt-1 opacity-80">Loading...</p>
                </div>
            </div>
        </div>
        
        <div class="grid grid-cols-2 gap-x-4 gap-y-1 text-xs p-2 bg-slate-800/30 border border-seLightBlue/50 drop-shadow-xl/30 backdrop-blur-xs">
            <div class="flex justify-between border-b border-seLightBlue/50 pb-1">
                <span class="font-bold opacity-70">FEELS LIKE</span>
                <span id="weatherFeels_Like">--°C</span>
            </div>
            <div class="flex justify-between border-b border-seLightBlue/50 pb-1">
                <span class="font-bold opacity-70">HUMIDITY</span>
                <span id="humidity">--%</span>
            </div>
            <div class="flex justify-between pt-1">
                <span class="font-bold opacity-70">WIND</span>
                <span id="wind">-- km/h</span>
            </div>
            <div class="flex justify-between pt-1">
                <span class="font-bold opacity-70">AIR QUALITY</span>
                <span id="weatherAQI">...</span>
            </div>
        </div>

        <div class="p-2 bg-slate-800/30 border border-seLightBlue/50 drop-shadow-xl/30 backdrop-blur-xs">
            <div id="weatherForecast" class="grid grid-cols-5 gap-2 text-center">
                </div>
        </div>
    </div>

    <div id="weatherResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
</div>

      <!-- AI Window -->
      <div id="aiWindow"
        class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
        style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
        <div id="aiDragHandle"
          class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
          <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" class="bi bi-robot"
              viewBox="0 0 16 16">
              <path
                d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5M3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.6 26.6 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.93.93 0 0 1-.765.935c-.845.147-2.34.346-4.235.346s-3.39-.2-4.235-.346A.93.93 0 0 1 3 9.219zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a25 25 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25 25 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135" />
              <path
                d="M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2zM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5" />
            </svg>
            <span class="font-bold">AI Assistant</span>
          </div>
          <div class="flex items-center space-x-1">
            <button aria-label="Minimize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="8" height="2" />
              </svg>
            </button>
            <button aria-label="Maximize" disabled
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
              <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                stroke="#4cb4e7" stroke-width="1"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="8" height="8" />
              </svg>
            </button>
            <button aria-label="Close" id="closeaiBtn"
              class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
              X
            </button>
          </div>
        </div>

        <div class="flex-grow p-2 overflow-auto bg-slate-800/50 flex flex-col">
          <div id="chatMessages"
            class="flex-grow overflow-y-auto space-y-2 p-1"></div>
          <form id="chatForm" class="mt-2 flex space-x-2">
            <input type="text" id="chatInput" placeholder="Ask me anything..."
              class="flex-grow p-1 bg-slate-700/ drop-shadow-xl/30 backdrop-blur-xs border border-[#4cb4e7]/50 text-[#4cb4e7]"
              autocomplete="off" />
            <button type="submit"
              class=" send-button px-3 py-1.5 transition-colors text-xs">
              SEND
            </form>
          </div>

          <div id="aiResizeHandle"
            class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
          </div>
        </div>

        <!-- Music window -->
        <div id="musicWindow"
          class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
          style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
          <div id="musicDragHandle"
            class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
            <div class="flex items-center space-x-1.5">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                fill="currentColor" class="bi bi-cassette"
                viewBox="0 0 16 16">
                <path
                  d="M4 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2m9-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 6a1 1 0 0 0 0 2h2a1 1 0 1 0 0-2z" />
                <path
                  d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zM1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-.691l-1.362-2.724A.5.5 0 0 0 12 10H4a.5.5 0 0 0-.447.276L2.19 13H1.5a.5.5 0 0 1-.5-.5zM11.691 11l1 2H3.309l1-2z" />
              </svg>
              <span class="font-bold">Spotify</span>
            </div>
            <div class="flex items-center space-x-1">
              <button aria-label="Minimize" disabled
                class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
                <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
                  xmlns="http://www.w3.org/2000/svg">
                  <rect width="8" height="2" />
                </svg>
              </button>
              <button aria-label="Maximize" disabled
                class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
                <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                  stroke="#4cb4e7" stroke-width="1"
                  xmlns="http://www.w3.org/2000/svg">
                  <rect x="0.5" y="0.5" width="8" height="8" />
                </svg>
              </button>
              <button aria-label="Close" id="closemusicBtn"
                class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
                X
              </button>
            </div>
          </div>

          <div class="flex-grow p-3 bg-slate-800/50 drop-shadow-xl/30 backdrop-blur-xs">
            <iframe id="spotifyIframe" style="border-radius:12px" width="100%"
              height="80" frameBorder="0"
              allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
              loading="lazy"
              src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M?utm_source=generator">
            </iframe>
          </div>
          <div class="mb-2 pr-2 pl-2">
            <input id="spotifySearchInput" type="text"
              placeholder="Search a mood or playlist... Press Enter to search"
              class="w-full p-1 bg-slate-700/60 drop-shadow-xl/30 backdrop-blur-xs text-[#4cb4e7] border border-[#4cb4e7]/50" />
          </div>
          <div id="musicResizeHandle"
            class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
        </div>

        <!-- --------------Pong Multiplayer Window -------------- -->

        <div id="multiplayerPongWindow"
          class="border-2 border-[#8be076] w-[805px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900/70 backdrop-blur-sm 
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
          style="min-width: 805px; min-height: 600px; max-width: 805px; max-height: 800px;">

          <div id="multiplayerPongDragHandle"
            class="bg-slate-900/50 px-1.5 py-1 flex items-center justify-between border-b-2 border-[#8be076] cursor-grab active:cursor-grabbing select-none">
            <div class="flex items-center space-x-1.5">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                viewBox="0 0 24 24" fill="none"
                stroke="#8be076" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <path
                  d="M12.718 20.713a7.64 7.64 0 0 1 -7.48 -12.755l.72 -.72a7.643 7.643 0 0 1 9.105 -1.283l2.387 -2.345a2.08 2.08 0 0 1 3.057 2.815l-.116 .126l-2.346 2.387a7.644 7.644 0 0 1 -1.052 8.864" />
                <path d="M14 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                <path d="M9.3 5.3l9.4 9.4" />
              </svg>
              <span class="font-bold">Multiplayer Pong</span>
            </div>
            <div class="flex items-center space-x-1">
              <button aria-label="Minimize" disabled
                class="w-5 h-5 border border-[#8be076] flex items-center justify-center opacity-50 cursor-not-allowed">
                <svg width="8" height="2" viewBox="0 0 8 2" fill="#8be076"
                  xmlns="http://www.w3.org/2000/svg">
                  <rect width="8" height="2" />
                </svg>
              </button>
              <button aria-label="Maximize" disabled
                class="w-5 h-5 border border-[#8be076] flex items-center justify-center opacity-50 cursor-not-allowed">
                <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
                  stroke="#8be076" stroke-width="1"
                  xmlns="http://www.w3.org/2000/svg">
                  <rect x="0.5" y="0.5" width="8" height="8" />
                </svg>
              </button>
              <button aria-label="Close" id="closeMultiplayerPongBtn"
                class="w-5 h-5 border border-[#8be076] flex items-center justify-center font-bold hover:text-slate-900 hover:bg-[#f8aab6] transition-colors">
                X
              </button>
            </div>
          </div>

          <div
            class="flex-grow bg-slate-800/50 flex justify-center items-center">
            <canvas id="multiplayerPongCanvas" width="800" height="600"
              class="border border-white"></canvas>
          </div>

          <div id="multiplayerPongResizeHandle"
            class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
        </div>

        <!-- GRAFANA WINDOW -->
        <div id="grafanaWindow"
          class="border-2 border-[#4cb4e7] w-[1000px] text-[#4cb4e7] text-sm flex flex-col
  bg-slate-900 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
  transition-all duration-300 ease-in-out opacity-0 scale-95 invisible pointer-events-none"
      style="min-width: 600px; min-height: 400px; max-width: 90vw; max-height: 80vh;">
      <div id="grafanaDragHandle"
        class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
        <div class="flex items-center space-x-1.5">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-bar-chart-line" viewBox="0 0 16 16">
            <path
              d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1zm1 12h2V2h-2zm-3 0V7H7v7zm-5 0v-3H2v3z" />
          </svg>
          <span class="font-bold">System Dashboard</span>
        </div>
        <div class="flex items-center space-x-1">
          <button id="closegrafanaBtn"
            class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
            X
          </button>
        </div>
      </div>

      <div class="flex-grow bg-slate-800/50 relative">
        <iframe src="http://localhost:3001/public-dashboards/d9464bea466647868b4fb748c5f80a46"
          class="absolute inset-0 w-full h-full" frameborder="0"></iframe>
      </div>
          <div id="grafanaResizeHandle"
            class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
        </div>

        <!-- COMMAND WINDOW -->
<div id="commandWindow"
    class="border-2 border-[#4cb4e7] w-auto text-[#4cb4e7] text-sm flex flex-col
        bg-slate-900/70 drop-shadow-xl/30 backdrop-blur-sm
        absolute left-[40%] top-[29%] transform -translate-x-1/2 -translate-y-1/2
        transition-all duration-300 ease-in-out
        opacity-0 scale-95 invisible pointer-events-none"
    style="min-width: 480px; min-height: 450px; max-width: 90vw; max-height: 80vh;">

    <div id="commandDragHandle"
        class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
        <div class="flex items-center space-x-1.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-terminal" viewBox="0 0 16 16">
                <path d="M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z" />
                <path d="M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z" />
            </svg>
            <span class="font-bold">AI ASSISTANT - HELP</span>
        </div>
        <div class="flex items-center space-x-1">
            <button id="closecommandBtn" class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">X</button>
        </div>
    </div>

    <div class="flex-grow p-4 font-mono text-xs overflow-y-auto">
        
        <h2 class="text-md font-bold text-[#D4535B] border-b-2 border-[#4cb4e7]/50 pb-1 mb-2">[ WINDOW MANAGEMENT ]</h2>
        <table class="w-full mt-1 mb-4 text-left">
            <thead>
                <tr class="text-[#4cb4e7]">
                    <th class="w-1/3 p-1">COMMAND</th>
                    <th class="p-1">DESCRIPTION</th>
                </tr>
            </thead>
            <tbody>
                <tr class="border-t border-slate-700/50">
                    <td class="p-1">open/close &lt;window&gt;</td>
                    <td class="p-1 ">Toggles visibility of a specific window.</td>
                </tr>
                <tr>
                    <td class="p-1 font-bold pt-2" colspan="2">Available windows:</td>
                </tr>
                <tr>
                    <td class="p-1 pl-4 text-[#8be076]" colspan="2">
                        about, chat, command, info, logout, music, pong, profile, settings, stats, system, weather
                    </td>
                </tr>
            </tbody>
        </table>

        <h2 class="text-md font-bold text-[#D4535B] border-b-2 border-[#4cb4e7]/50 pb-1 mb-2">[ GAME ACTIONS ]</h2>
        <table class="w-full mt-1 mb-4 text-left">
            <thead>
                <tr class="text-[#4cb4e7]">
                    <th class="w-1/3 p-1">COMMAND</th>
                    <th class="p-1">DESCRIPTION</th>
                </tr>
            </thead>
            <tbody>
                <tr class="border-t border-slate-700/50">
                    <td class="p-1 ">play multiplayer</td>
                    <td class="p-1 ">Opens the multiplayer pong game window.</td>
                </tr>
                <tr class="border-t border-slate-700/50">
                    <td class="p-1">play tournament</td>
                    <td class="p-1  text-[#4cb4e7]">Opens the tournament lobby.</td>
                </tr>
            </tbody>
        </table>

        <h2 class="text-md font-bold text-[#D4535B] border-b-2 border-[#4cb4e7]/50 pb-1 mb-2">[ MUSIC ]</h2>
        <table class="w-full mt-1 text-left">
             <thead>
                <tr class="text-[#4cb4e7]">
                    <th class="w-1/3 p-1">COMMAND</th>
                    <th class="p-1">DESCRIPTION</th>
                </tr>
            </thead>
            <tbody>
                <tr class="border-t border-slate-700/50">
                    <td class="p-1">play a &lt;mood&gt; playlist</td>
                    <td class="p-1 ">Searches Spotify for a playlist matching the mood.</td>
                </tr>
                 <tr>
                    <td class="p-1 font-bold pt-2" colspan="2">Examples:</td>
                </tr>
                <tr>
                    <td class="p-1 pl-4 text-[#8be076]" colspan="2">"play a chill playlist", "play a workout mix"</td>
                </tr>
            </tbody>
        </table>

    </div>

    <div class="px-2 py-0.5 border-t-2 border-[#4cb4e7] text-xs font-bold flex justify-between">
        <span>STATUS: ONLINE</span>
        <span>DOCS v1.0</span>
    </div>

    <div id="commandResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
</div>

        <!-- ABOUT WINDOW -->
        <div id="aboutWindow"
          class="border-2 border-[#4cb4e7] w-[200px] text-[#4cb4e7] text-sm flex flex-col
  bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
  transition-all duration-300 ease-in-out opacity-0 scale-95 invisible pointer-events-none"
          style="min-width: 300px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
          <div id="aboutDragHandle"
            class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
            <div class="flex items-center space-x-1.5">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                fill="currentColor" class="bi bi-file-person"
                viewBox="0 0 16 16">
                <path
                  d="M12 1a1 1 0 0 1 1 1v10.755S12 11 8 11s-5 1.755-5 1.755V2a1 1 0 0 1 1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                <path d="M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
              </svg>
              <span class="font-bold">System Dashboard</span>
            </div>
            <div class="flex items-center space-x-1">
              <button id="closeaboutBtn"
                class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
                X
              </button>
            </div>
          </div>

          <div class="p-4 space-y-2 text-sm">
            <h2 class="text-lg font-bold underline text-[#8be076]">About Us</h2>
            <ul class="list-disc list-inside">
              <li>We are a group of friends who are transcending the space of
                pong with our game</li>
              <li>We were inspired by the TV Show severance and wanted to
                recreate a similar atmosphere</li>
              <li>We are not storing and utilizing any personal data you may
                provide to commercial ends</li>
              <li>All Rights Reserved</li>

            </ul>
          </div>
          <div id="aboutResizeHandle"
            class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
        </div>

        <!-- --------------TOURNAMENT WINDOW -------------- -->
         

<div id="tournamentWindow" class="border-2 border-[#4cb4e7] w-[500px] text-[#4cb4e7] text-sm flex flex-col bg-slate-900/60 drop-shadow-xl/30 backdrop-blur-xs absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ease-in-out opacity-0 scale-95 invisible pointer-events-none" style="min-width: 550px;">
    <div id="tournamentDragHandle" class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
        <span class="font-bold">Pong Tournaments</span>
        <button id="closeTournamentBtn" class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover:bg-[#f8aab6] hover:text-slate-900 transition-colors">X</button>
    </div>

    <div id="tournamentLobbyView" class="flex-grow p-4 flex flex-col space-y-4 bg-slate-800/50">
        <div class="text-center">
            <button id="startLocalTournamentBtn" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded w-full max-w-md mx-auto">
                Start Local Tournament
            </button>
        </div>
        <div class="border border-slate-600/70 bg-slate-800/50 drop-shadow-xl/30 backdrop-blur-xs p-3">
            <h3 class="font-bold text-lg mb-2 border-[#4cb4e7]">Create New Remote Tournament</h3>
            <form id="createTournamentForm" class="space-y-3">
                <div>
                    <label for="tournamentName" class="block text-xs font-medium text-slate-300">Tournament Name</label>
                    <input type="text" id="tournamentName" name="name" required class="mt-1 block w-full p-1.5 bg-slate-900 border border-slate-500 text-xs focus:ring-1 focus:ring-[#4cb4e7] focus:border-[#4cb4e7] outline-none">
                </div>
                <div>
                    <label for="tournamentSize" class="block text-xs font-medium text-slate-300">Players</label>
                    <select id="tournamentSize" name="size" class="mt-1 block w-full p-1.5 bg-slate-900 border border-slate-500 text-xs">
                        <option value="4">4 Players</option>
                        <option value="8">8 Players</option>
                    </select>
                </div>
                <button type="submit" id="createTournamentBtn" class="border px-4 py-1.5 font-bold tracking-wider hover:bg-[#8be076] hover:text-slate-900 transition-colors text-xs w-full">Create</button>
            </form>
            <p id="tournamentError" class="text-red-400 text-xs mt-2"></p>
        </div>
        <div class="flex-grow">
            <h3 class="font-bold text-lg mb-2 border-[#4cb4e7]">Available Tournaments</h3>
            <div id="tournamentLobbyList" class="space-y-2 overflow-y-auto max-h-60 pr-2">
                <p class="text-slate-400 text-xs">Loading tournaments...</p>
            </div>
        </div>
    </div>

    <div id="localTournamentSetupView" class="w-full max-w-lg mx-auto p-4 hidden">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-bold">Local Tournament Setup</h2>
            <button id="backToLobbyFromLocalSetupBtn" class="border px-3 py-1 font-bold hover:bg-[#4cb4e7] hover:text-slate-900 text-xs transition-colors">Back to Lobby</button>
        </div>
        <div class="bg-slate-900/50 p-4 border border-slate-700">
            <div id="aliasInputsContainer" class="grid grid-cols-2 gap-4">
            </div>
            <div class="text-center mt-4">
                <button id="startLocalTournamentGameBtn" class="bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded w-full">
                    Start Tournament
                </button>
            </div>
        </div>
    </div>

    <div id="tournamentBracketView" class="flex-grow p-4 flex-col space-y-4 bg-slate-800/50 hidden">
        <div class="flex justify-between items-center">
            <h3 id="bracketTournamentName" class="font-bold text-lg border-[#4cb4e7]">Tournament Bracket</h3>
            <button id="backToLobbyBtn" class="border px-3 py-1 font-bold hover:bg-[#4cb4e7] hover:text-slate-900 text-xs transition-colors">Back to Lobby</button>
        </div>
        <div id="bracketContainer" class="flex justify-center items-center text-xs border-[#4cb4e7]">
        </div>
    </div>
    
    <div id="tournamentResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
</div>

<!-- --------------LOCAL MULTIPONG WINDOW -------------- -->

<div id="localPongGameWindow" class="border-2 border-green-400 w-[800px] h-[600px] text-green-300 flex flex-col bg-slate-900/80 drop-shadow-xl/30 backdrop-blur-sm absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ease-in-out opacity-0 scale-95 invisible pointer-events-none">
    <div id="localPongDragHandle" class="px-1.5 py-1 flex items-center justify-between border-b-2 border-green-400 cursor-grab active:cursor-grabbing select-none">
        <span id="localPongWindowTitle" class="font-bold">Local Pong Match</span>
        <button id="closeLocalPongBtn" class="w-5 h-5 border border-green-400 flex items-center justify-center font-bold hover:bg-red-500 hover:text-slate-900 transition-colors">X</button>
    </div>
    <div class="flex-grow p-0 bg-black">
        <canvas id="localPongCanvas" class="w-full h-full"></canvas>
    </div>
    <div id="localPongResizeHandle" class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10"></div>
</div>



<!-- --------------PUT NEW WINDOW BELOW -------------- -->



    

      </main>

      <footer class="flex items-center text-center justify-center py-auto mb-5">
        <div id="menuShortcut"
          class="flex flex-col items-center cursor-pointer text-center group p-2 rounded transition-colors duration-150">
          <svg class="w-11 h-11 text-[#4cb4e7] mb-1 group-hover:text-[#f8aab6]"
            fill="none" stroke="currentColor"
            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-width="1"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
            </path>
          </svg>
          <span
            class="text-xs text-[#4cb4e7] break-words group-hover:text-[#f8aab6]">
            menu.txt
          </span>
        </div>
      </footer>
      <script type="module" src="src/DesktopWindow.ts"></script>
      <script type="module" src="src/main.ts"></script>

    </body>

  </html>

  <!-- ------------------------WINDOW TEMPLATE------------------------ -->

  <!-- 

<div id="PREFIXWindow"
  class="border-2 border-[#4cb4e7] w-[450px] text-[#4cb4e7] text-sm flex flex-col
            bg-slate-900
            absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-300 ease-in-out
            opacity-0 scale-95 invisible pointer-events-none"
  style="min-width: 250px; min-height: 200px; max-width: 90vw; max-height: 80vh;">
  <div id="PREFIXDragHandle"
    class="px-1.5 py-1 flex items-center justify-between border-b-2 border-[#4cb4e7] cursor-grab active:cursor-grabbing select-none">
    <div class="flex items-center space-x-1.5">
      <svg class="w-4 h-4" fill="none" stroke="currentColor"
        stroke-width="1.5" viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M9.75 3.104v5.621a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25V3.104M15.75 3.104v5.621a2.25 2.25 0 002.25 2.25h2.25a2.25 2.25 0 002.25-2.25V3.104m-6.75 4.516l-4.5-3.243m0 10.362l4.5-3.243m6.75 3.243l4.5-3.243m-12-3.874l4.5 3.243m2.25-3.243l4.5 3.243M3 10.875l4.5 3.243M3 10.875V7.522m18 3.353V7.522m-9 6.59V3.27m0 17.46V15.3"></path>
      </svg>
      <span class="font-bold">Window Title</span> </div>
    <div class="flex items-center space-x-1">
      <button aria-label="Minimize" disabled
        class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
        <svg width="8" height="2" viewBox="0 0 8 2" fill="#4cb4e7"
          xmlns="http://www.w3.org/2000/svg"><rect width="8"
            height="2" /></svg>
      </button>
      <button aria-label="Maximize" disabled
        class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center hover-important opacity-50 cursor-not-allowed">
        <svg width="9" height="9" viewBox="0 0 9 9" fill="none"
          stroke="#4cb4e7" stroke-width="1"
          xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5"
            width="8" height="8" /></svg>
      </button>
      <button aria-label="Close" id="closePREFIXBtn"
        class="w-5 h-5 border border-[#4cb4e7] flex items-center justify-center font-bold hover-important">
        X
      </button>
    </div>
  </div>

  <div class="flex-grow p-2 overflow-auto bg-slate-800/50">
    <p>This is the content of PREFIXWindow.</p>
    <p>Replace this with actual application content.</p>
    <input type="text" placeholder="Sample input..."
      class="mt-2 p-1 w-full bg-slate-700 border border-[#4cb4e7]/50 rounded" />
  </div>

  <div id="PREFIXResizeHandle"
    class="absolute bottom-0 right-0 w-4 h-4 cursor-se-resize z-10">
  </div>
</div>

-->